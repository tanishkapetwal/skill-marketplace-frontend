<div class="flex ">
  <app-sidebar></app-sidebar>
  <div class="w-full bg-gray-100 h-[100vh]" [class]="showSkill ? 'opacity-10': ''">
    <div class="flex items-center justify-around mt-3">
      <div class="flex space-x-2">
        <div>
          <img class="rounded-full w-12 h-12" src="assets/profile.jpg" alt="">
        </div>
        <div>
          <p class="text-xs text-gray-500">Welcome</p>
          <p class="text-gray-900">{{name}}</p>
        </div>
      </div>
      <div class="flex space-x-5 justify-around w-1/3">
        <div
          class="w-[300px] h-[30px] border text-[12px] border-gray-300 rounded-2xl flex items-center focus:outline-none focus:ring-2 focus:ring-blue-500">
          <button class="py-[3px] px-4 text-gray-700 focus:outline-none">
            <i class="fa-solid fa-search"></i>
          </button>
          <input type="search" placeholder="Search..."
            class="py-[3px] px-4 rounded-r-md focus:outline-none placeholder-gray-700" />
        </div>
        <div (click)="notificationModal()"
          class="bg-gray-900 text-white p-2 rounded-full w-8 h-8 flex flex-col items-center ">
          <i class="fas fa-bell">
          </i>
          @if(notifications.length){
          <i class="fas fa-circle text-[6px] text-red-500 mt-[3px] ml-[6px]"></i>
          }
        </div>
        <div (click)="toggleMode()"
          class="bg-gray-900 text-white p-2 rounded-full w-8 h-8 flex items-center justify-center">
          <i [class]="mode ? 'fas fa-moon' : 'fas fa-sun'"></i>
        </div>
      </div>
    </div>
    <!-- Active Courses Section -->
    <div class="mx-40 h-[200px] space-y-3 my-12 flex flex-col justify-around bg-blue-100 p-4 rounded-2xl">
      <div class="flex text-gray-900 justify-between p-2">
        <h4>Active Courses</h4>
        <button (click)="explore(skills)" class="text-[10px] py-2 px-3 border-2 rounded-4xl">See All</button>
      </div>
      <div class="flex justify-items-start space-x-8 shadow-blue-200">
        @for(skill of skills.slice(0,3); track skill.id){
        <div class="w-52 rounded-2xl px-[12px] pb-4 bg-white">
          <img class="rounded-2xl mt-[-20px] w-full h-32"
            src="https://media.geeksforgeeks.org/wp-content/uploads/20240501161048/SQL-Databases.png" />
          <p class="p-2">{{skill.title}}</p>
          <div class="p-2 flex justify-between">
            <div class="text-xs text-gray-900">
              <p><i class="fa-solid fa-clock w-3.5 mr-1.5"></i> {{skill.time}} H</p>
              <p><i class="fa fa-inr w-3.5 mr-1.5"></i>{{skill.price}}</p>
            </div>
            <div
              class="relative flex h-[45px] w-[45px] items-center justify-center rounded-full border-4 border-blue-200"
              style="background: conic-gradient(#95BBF8 calc({{skill.avgRating}} * 20%), transparent calc({{skill.avgRating}} * 20%));">
              <span class="text-xs font-bold text-gray-900">{{skill.avgRating * 20}}%</span>
            </div>
          </div>
          <div class="bg-blue-100 p-2 rounded-2xl flex justify-center">
            <button class="text-center text-xs hover:ring-blue-300" (click)="openSkill(skill.id)">
              Explore Now
            </button>
          </div>
        </div>
        }
      </div>
    </div>
  </div>


  @if(showNotification){
  <div class="fixed top-[60px] right-[100px] flex items-center justify-center ">
    <div class="bg-white rounded-2xl shadow-lg w-[200px] p-6 relative">
      <button (click)="closeNotification()" class="absolute top-3 right-3 text-gray-500 hover:text-black">
        âœ•
      </button>
      <div class="text-xs ">
     @if(notifications.length){
       @for(n of notifications; track n.orderId){
         <div class="border-b-2 border-b-gray-100 mt-[3px]">
           {{n.message}} of order id {{n.orderId}}
         </div>
      }
     }
      </div>
    </div>
  </div>

  }


</div>
<router-outlet></router-outlet>